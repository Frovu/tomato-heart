<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="icon" href="img/tomatow.png" type="image/png">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<title>Tomato Heart</title>
	</head>
	<body>
		<!-- Navbar -->
		<div class="navbar navbar-expand-sm navbar-dark bg-dark">
			<div class="container d-flex justify-content-between">
				<a href="#" class="navbar-brand d-flex align-items-center">
					<img src="img/tomatog.png" width="32" height="32" class="d-inline-block align-top">
					<strong>&nbsp;Tomato Heart</strong>
				</a>
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="#status">Status</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#settings">Settings</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#events">Events</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#statistics">Statistics</a>
					</li>
				</ul>
			</div>
		</div>
		<!-- Status -->
		<div class="row m-0 mt-2">
			<div id="status" class="col-xl-4 col-md-6 col-sm-8 col-12">
				<h4>System status&nbsp;
					<!-- <div class="spinner-grow text-success" role="status"></div> -->
				</h4>
				<table class="table">
					<tbody>
						<tr>
							<td>Air temperature:</td>
							<td id="temperature" class="v text-primary">N&#47;A</td>
							<td></td>
						</tr>
						<tr>
							<td>Pressure:</td>
							<td id="pressure" class="v text-primary">N&#47;A</td>
							<td></td>
						</tr>
						<tr>
							<td>Humidity:</td>
							<td id="humidity" class="v text-primary">N&#47;A</td>
							<td></td>
						</tr>
						<tr>
							<td>Soil moisture:</td>
							<td id="soil_moisture_1" class="v">N&#47;A</td>
							<td id="soil_moisture_2" class="v">N&#47;A</td>
						</tr>
						<tr>
							<td>Soil temperature:</td>
							<td id="soil_temp_1" class="v">N&#47;A</td>
							<td id="soil_temp_2" class="v">N&#47;A</td>
						</tr>
						<tr>
							<td>Cable temperature:</td>
							<td id="wire_temp_1" class="v">N&#47;A</td>
							<td id="wire_temp_2" class="v">N&#47;A</td>
						</tr>
						<tr class="text-secondary">
							<td>Updated, seconds ago:</td>
							<td id="dataUpdated" class="v text-secondary">N&#47;A</td>
							<td></td>
						</tr>
					</tbody>
				</table>
				<h5>Last events:</h5>
				<div id="eventsBox">
					<div id="noEvents" class="mt-3 alert alert-light fade" role="alert">
						No events loaded
						<span class="float-right">:(</span>
					</div>
				</div>
			</div>
			<!-- Statistics -->
			<div class="col-md-7 col-sm-12 col-12">
				<h3 class="ml-2">Statistics</h3>
				<canvas id="plot"</canvas>
			</div>
		</div>
		<!-- Second row -->
		<div class="row m-0 mt-2">
			<!-- Settings -->
			<div id="settings" class="col-md-6 col-sm-12 col-12">
				<h3 class="ml-2">Settings</h3>
				<form>
					<h5>section #1
						<span><input class="ml-1" id="switch1" type="checkbox"></span>
					</h5>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="tDayLow1">Lowest day temp, °C</label>
							<input type="text" class="form-control" id="tDayLow1" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="tDayHigh1">Highest day temp, °C</label>
							<input type="text" class="form-control" id="tDayHigh1" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
					</div>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="tNightLow1">Lowest night temp, °C</label>
							<input type="text" class="form-control" id="tNightLow1" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="tNightHigh1">Highest night temp, °C</label>
							<input type="text" class="form-control" id="tNightHigh1" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="tWire1">Max wire temp, °C</label>
							<input type="text" class="form-control" id="tWire1" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
					</div>
					<h5>section #2
						<span><input class="ml-1" id="switch2" type="checkbox"></span>
					</h5>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="tDayLow2">Lowest day temp, °C</label>
							<input type="text" class="form-control" id="tDayLow2" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="tDayHigh2">Highest day temp, °C</label>
							<input type="text" class="form-control" id="tDayHigh2" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
					</div>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="tNightLow2">Lowest night temp, °C</label>
							<input type="text" class="form-control" id="tNightLow2" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="tNightHigh2">Highest night temp, °C</label>
							<input type="text" class="form-control" id="tNightHigh2" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="tWire2">Max wire temp, °C</label>
							<input type="text" class="form-control" id="tWire2" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
					</div>
					<h5>general:</h5>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="dayStart">Day start, hh:mm</label>
							<input type="text" class="form-control" id="dayStart" value="N&#47;A">
							<div class="invalid-feedback">Invalid input</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="dayEnd">Day end, hh:mm</label>
							<input type="text" class="form-control" id="dayEnd" value="N&#47;A">
							<div id="dayFeedback" class="invalid-feedback">Invalid input</div>
						</div>
					</div>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="rateBeat">Heartbeat rate, s</label>
							<input type="text" class="form-control" id="rateBeat" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="rateData">Data rate, s</label>
							<input type="text" class="form-control" id="rateData" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
					</div>
					<h5>watering:</h5>
					<div class="form-row">
						<div class="form-group col-sm-4 col-6">
							<label for="wateringDuration">duration, minutes</label>
							<input type="text" readonly class="form-control" id="wateringDuration" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
						<div class="form-group col-sm-4 col-6">
							<label for="minMoisture">moisture treshold, %</label>
							<input type="text" readonly class="form-control" id="minMoisture" value="N&#47;A">
							<div class="invalid-feedback">Value out of range</div>
						</div>
					</div>
					<p></p>
					<button type="button" class="btn btn-primary col-12" onclick="showModal()">
						Update Settings
					</button>
					<div id="settingsAlert" class="mt-3 col-12 alert alert-success fade" role="alert">
						<strong>Nothing to change!</strong>
					</div>
				</form>
			</div>
		</div>
		<!-- Settings submit modal -->
		<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="modalLabel">You are about to change</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p id="modalBody"></p>
					</div>
					<div class="modal-footer">
					<form class="" id="settingsForm">
						<div class="form-row">
							<!-- <label for="secret">secret:</label> -->
							<input class="mr-4 w-50 form-control" type="password" id="secret" name="secret" value="" placeholder="authority secret">
							<button type="button" class="mr-3 btn btn-secondary" data-dismiss="modal">Close</button>
							<button type="submit" class="btn btn-primary">Proceed</button>
							<div id="settingsFeedback" class="invalid-feedback">error</div>
						</div>
					</form>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.bundle.js"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
		<script src="js/plot.js" type="text/javascript"></script>
		<script src="js/script.js" type="text/javascript"></script>
		<script src="js/status.js" type="text/javascript"></script>
		<script src="js/switch.js" type="text/javascript"></script>
	</body>
</html>
